(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-898ef76e"],{"48b0":function(t,e,a){},"6e88":function(t,e,a){},"729d":function(t,e,a){"use strict";a("6e88")},"83e7":function(t,e,a){"use strict";a("48b0")},a25d:function(t,e,a){"use strict";a.r(e);var r,i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container profile-detail-container"},[a("profile-avatar",{attrs:{avatar:t.user.avatar,isActive:t.user.is_active}}),a("v-card-text",{staticClass:"user-name"},[t._v(" "+t._s(t.userName)+" "),t.user.gender?a("v-icon",{staticClass:"gender",attrs:{color:"blue"}},[t._v(" mdi-gender-male ")]):a("v-icon",[t._v(" mdi-gender-female ")])],1),a("v-row",{staticClass:"profile-detail-row justify-space-around"},[a("v-col",{staticClass:"user-info-detail",attrs:{cols:"4"}},[a("user-info-detail",{attrs:{user:t.user},on:{"update:user":function(e){t.user=e}}})],1),a("v-col",{attrs:{cols:"8"}},[a("post-create",{staticClass:"mb-4",on:{"add-post":t.addPost}}),a("my-post",{attrs:{newPost:t.newPost}})],1)],1)],1)},n=[],o=a("1da1"),c=(a("96cf"),a("99af"),a("3787")),l=a("2b0e"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile-detail-container"},[a("div",{staticClass:"profile-detail-avatar faded"},[a("v-avatar",{staticClass:"profile-detail-avatar-img",attrs:{size:"200",color:"grey",dark:""}},[a("v-img",{attrs:{src:t.avatarUrl,alt:"avatar"}})],1),t.showUpdateAvatarBtn?a("v-btn",{staticClass:"profile-detail-avatar-btn",attrs:{icon:""},on:{click:t.doUploadAvatar,mouseenter:t.showUpdateAvatarBtn}},[a("v-icon",{attrs:{color:"green",large:""}},[t._v(" mdi-check-circle ")])],1):t._e()],1),a("div",{staticClass:"active-status-wrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"active-status"},[a("v-icon",{attrs:{color:"green"}},[t._v("mdi-checkbox-blank-circle")])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowUpdateAvatarBtn,expression:"isShowUpdateAvatarBtn"}],staticClass:"menu-avatar-wrapper"},[a("upload-avatar",{on:{previewAvatar:t.changePreviewAvatar}})],1)])},d=[],v=a("5530"),m=(a("ac1f"),a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-avatar-container"},[a("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(){return t.isShowDialog=!t.isShowDialog}}},[a("v-icon",[t._v(" mdi-camera ")])],1),a("v-dialog",{directives:[{name:"show",rawName:"v-show",value:t.isShowDialog,expression:"isShowDialog"}],attrs:{"max-width":"500px"},model:{value:t.isShowDialog,callback:function(e){t.isShowDialog=e},expression:"isShowDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Upload Avatar")])]),a("v-card-text",[a("v-file-input",{attrs:{label:"Upload Avatar","prepend-icon":"mdi-camera",hint:"Upload your avatar",color:"primary",accept:"image/*"},model:{value:t.selectedFile,callback:function(e){t.selectedFile=e},expression:"selectedFile"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.changePreviewAvatar}},[t._v(" Upload ")])],1)],1)],1)],1)}),f=[],p=l["default"].extend({name:"MenuAvatar",props:{items:{type:Array,default:function(){return[{title:"Upload avatar"},{title:"Item 2"},{title:"Item 3"}]}}},data:function(){return{isShowDialog:!1,selectedFile:null}},methods:{changePreviewAvatar:function(){this.$emit("previewAvatar",this.selectedFile),this.isShowDialog=!1}}}),h=p,w=a("2877"),g=Object(w["a"])(h,m,f,!1,null,null,null),_=g.exports,x=a("ec1a"),A=l["default"].extend({components:{UploadAvatar:_},name:"ProfileAvatar",props:{avatar:{type:String,required:!0},isActive:{type:Boolean,required:!0}},data:function(){return{isShowUpdateAvatarBtn:!0,isShowUpdateAvatarDialog:!0,previewAvatar:function(){return null}()}},computed:{avatarUrl:function(){return this.previewAvatar||this.avatar}},methods:{showUpdateAvatarBtn:function(){console.log("showUpdateAvatarBtn")},showUpdateAvatarDialog:function(){},changePreviewAvatar:function(t){var e=this,a=new FileReader;a.readAsDataURL(t),a.onload=function(t){t.target&&(e.previewAvatar=t.target.result)}},doUploadAvatar:function(){var t=this;if(this.previewAvatar){var e=this.previewAvatar,a=window.location.pathname.split("/")[2];if(!a)return;c["a"].updateAvatar(a,e).then((function(e){console.log("uploadAvatar",e);var a=Object(v["a"])(Object(v["a"])({},x["a"].DEFAULT_OPTIONS),{},{message:e.detail});t.$toast.success(a.message,a)}))}}}}),b=A,P=(a("f03e"),Object(w["a"])(b,u,d,!1,null,"3939e222",null)),D=P.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"user-info-detail",attrs:{align:"left"}},[a("v-list",t._l(t.items,(function(e,r){return a("v-list-item",{key:r,staticClass:"align-center"},[a("v-list-item-icon",[a("v-icon",{attrs:{size:"22px"},domProps:{textContent:t._s(e.icon)}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"user-info--text",domProps:{textContent:t._s(e.text)}})],1)],1)})),1)],1)},k=[],C=a("7f45"),j=a.n(C),y=l["default"].extend({name:"UserInfoDetail",props:{user:{type:Object,required:!0}},data:function(){return{items:{country:{icon:"mdi-map-marker",text:this.$props.user.country},email:{icon:"mdi-mail",text:this.user.email},date_joined:{icon:"mdi-calendar-clock",text:j()(this.user.date_joined).format("DD MMM YYYY")},last_login:{icon:"mdi-calendar-clock",text:this.user.last_login}}}},computed:{momentDateJoined:function(){return this.user.date_joined?j()(this.user.date_joined).format("MMMM Do YYYY, h:mm:ss a"):""},momentLastLogin:function(){var t;return null!==(t=this.user)&&void 0!==t&&t.last_login?j()(this.user.last_login).format("MMMM Do YYYY, h:mm:ss a"):""}},watch:{user:{handler:function(t){this.items["country"].text=t.country,this.items["email"].text=t.email,this.items["date_joined"].text=j()(t.date_joined).format("DD MMM YYYY"),this.items["last_login"].text=t.last_login}}},methods:{moment:function(){return j()()}}}),M=y,Y=(a("83e7"),Object(w["a"])(M,U,k,!1,null,"772e9aa4",null)),O=Y.exports,S=a("2909"),L=a("2e8a"),$=a("932b"),B=$["a"].extend({name:"MyPost",data:function(){return{items:[],page:1}},created:function(){this.refreshPostList()},methods:{refreshPostList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.id,e.next=3,L["b"].getListPostByLanguageAndUser("en",a,t.page);case 3:r=e.sent,t.items=r.data.results;case 5:case"end":return e.stop()}}),e)})))()},fetchLoadMore:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,a=t.$route.params.id,e.next=4,L["b"].getListPostByLanguageAndUser("en",a,t.page);case 4:r=e.sent,t.isLoading=!1,i=r.data.results,t.items=[].concat(Object(S["a"])(t.items),Object(S["a"])(i));case 8:case"end":return e.stop()}}),e)})))()}}}),R=B,F=Object(w["a"])(R,r,i,!1,null,null,null),I=F.exports,N=a("f9bd"),E=l["default"].extend({components:{ProfileAvatar:D,UserInfoDetail:O,MyPost:I,PostCreate:N["a"]},name:"ProfileDetail",data:function(){return{newPost:null,user:{avatar:"",country:"",date_joined:"",email:"",first_name:"",gender:1,groups:[],id:-1,is_active:!1,is_staff:!1,last_login:null,last_name:"",streak_count:0,username:""}}},computed:{userId:function(){return this.$route.params.userId},userName:function(){return"".concat(this.user.first_name," ").concat(this.user.last_name)}},mounted:function(){this.fetchProfileDetail()},methods:{fetchProfileDetail:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.$route.params.id,e.next=3,c["a"].getProfileDetail(a);case 3:r=e.sent,200===r.status&&(t.user=r.data);case 5:case"end":return e.stop()}}),e)})))()},addPost:function(t){this.$store.commit("addPost",t),this.newPost=t}}}),q=E,J=(a("729d"),Object(w["a"])(q,s,n,!1,null,"419de07d",null));e["default"]=J.exports},a779:function(t,e,a){},f03e:function(t,e,a){"use strict";a("a779")}}]);